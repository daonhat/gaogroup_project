<div class = "form-wrapper dn-post-wrapper">
  <%= simple_form_for @post, html: { class: 'form-horizontal', multipart: true } do |f| %>
  <div class = "form-group" type = "file" id = "pictureInput">
    <%= f.input :image %>  
  </div>
  <div class = "form-group text-center">
    <%= f.input :caption, input_html: { class: 'input-lg dn-post-btn' } %>
  </div>
  <div class = "form-group text-center">
    <%= f.input :tag_list  %>
  </div>
  <div class = "form-group text-center">
    <%= f.button :submit, class: 'btn btn-success' %>
  </div>
  <div id = "target">
  </div>
  <% end %>
</div>

<script>
  $(function() {
  $('#pictureInput').on('change', function(event) {
    var files = event.target.files;
    var image = files[0]
    // here's the file size
    console.log(image.size);
    var reader = new FileReader();
    reader.onload = function(file) {
      var img = new Image();
      console.log(file);
      img.src = file.target.result;
      $('#target').html(img);
    }
    reader.readAsDataURL(image);
    console.log(files);
  });
});
</script>